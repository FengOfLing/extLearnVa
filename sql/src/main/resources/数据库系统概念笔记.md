# 数据库系统概念笔记

#### 更新日志

|   时间    |   操作   | 备注 |
| :-------: | :------: | :--: |
| 2021/2/25 | 新建笔记 |      |
|           |          |      |
|           |          |      |
|           |          |      |
|           |          |      |
|           |          |      |
|           |          |      |
|           |          |      |
|           |          |      |

第二章：**关系模型介绍**

关系：一个关系就是一个数据库表

关系实例：就是一个特定的表，当然里面要有特定的元组

元组：什么是元组，就是一张数据库表中的一行数据，这个就成为一个元组，另外，n 行数据，也成为 n 元组

属性：一个属性就是指，一个关系的列的列头，比如：“姓名”，“年龄”等

域：就是高中数学学的的定义域，用于标识关系中，某一属性的取值范围

为了区分不同的元组，提出了 “码” 的概念，也可以叫 “键”

超码：一个或者多个属性的集合，这些属性将用于表示唯一的一个元组

候选码：最小的超码

主码：开发者设计的候选码，数量唯一

外码：等同于外键



关系查询语言

就是去查表的语言，分为过程性和非过程性，过程性就是需要先去计算我要查询的关系结构，然后查询，非过程性的语句，就是直接描述需要查询的元素，然后直接查询

过程化的查询语言提供了很多运算，运算作用与单个关系或者多个关系，然后返回一个关系

连接就是其中的一个运算，下面重点看



**自然连接**：连个或者多个关系中，根据他们属性相等的情况，来进行组合，比如关系1和关系2都有年龄这个属性，那么产生的新的关系中，年龄就必须相等，然后组成新的元组

| 主键 | 姓名 | 年龄 |
| :--: | :--: | :--: |
|  1   | feng |  24  |
|  2   | ling |  25  |

自然连接

| 工资 | 年龄 |
| :--: | :--: |
| 1000 |  24  |
| 200  |  25  |
| 600  |  27  |

=

| 主键 | 姓名 | 年龄 | 工资 |
| :--: | :--: | :--: | :--: |
|  1   | feng |  24  | 1000 |
|  2   | ling |  25  | 200  |

那么这个自然连接有什么用呢，就是说，以后，如果我查询两个之间，通过某相同的属性连接的数据，我就可以这样去查询

```sql
select id from a nature join b where name = '';
```

多个元素的元组之间的自然连接，我回家去看看，注意多个表关联的自然连接，他们的顺序肯定是不一样的（现在我总算明白了）



**笛卡尔积**：多个关系之间，任意元组之间相互组合，从而产生一个新的单个的关系，元组的数量为：n\*m\*x\*y

以上面的两个输入为例，输出就是 2 * 3 = 6 条数据，笛卡尔积没什么好说的



第三章：**SQL**

属性类型：

* char(x)：x表示字符的长度，实际写入的值如果大于定义的长度，则报错，否则数据库会填充空格
* varchar(x)：可变长度的字符，实际写入的值大于定义的长度，则报错，否则存入什么，则写入什么
* 以后我定义整型的时候，我直接写成 int、samll int 这样节约空间

下面给出一个关系的定义：

```sql
CRATE TABLE 关系名(
	属性名1(属性1域),
	属性名2(属性2域),
	属性名3(属性3域),
	,,,
	属性x(属性x域)，
	<完整性规则1>，
	<完整性规则2>,
	...
	<完整性规则x>
);
```

**查询语句：**

查询语句本质上是通过 seletc from where 从一个关系，或者多个关系中，产生一个关系。

```sql
selec 属性1，属性2的数学表达式，distinct 属性3，... 属性x from 关系1，关系2，...
where 下一个元组
```

一般来说，from 都是接简单的关系，那么一次查询，就是从多个关系的笛卡尔积中去查询元组，where就是对这个笛卡尔积的过滤

**时刻记住，关系运算是用来连接多个元组的**

交、并、差，都是关系运算











































































































